import{r as y,j as o,f as $e,h as ze,i as Je,k as Qe,l as Ge,m as Ze,n as et,o as tt,p as st,D as nt}from"./index-oMUnfuSZ.js";import{b as it,B as ot,a as B,M as rt,O as at}from"./App-BRICbmkZ.js";const T=Object.create(null);T.open="0";T.close="1";T.ping="2";T.pong="3";T.message="4";T.upgrade="5";T.noop="6";const H=Object.create(null);Object.keys(T).forEach(n=>{H[T[n]]=n});const ie={type:"error",data:"parser error"},Te=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Ae=typeof ArrayBuffer=="function",Be=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,he=({type:n,data:e},t,s)=>Te&&e instanceof Blob?t?s(e):ke(e,s):Ae&&(e instanceof ArrayBuffer||Be(e))?t?s(e):ke(new Blob([e]),s):s(T[n]+(e||"")),ke=(n,e)=>{const t=new FileReader;return t.onload=function(){const s=t.result.split(",")[1];e("b"+(s||""))},t.readAsDataURL(n)};function Ne(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}let ee;function ct(n,e){if(Te&&n.data instanceof Blob)return n.data.arrayBuffer().then(Ne).then(e);if(Ae&&(n.data instanceof ArrayBuffer||Be(n.data)))return e(Ne(n.data));he(n,!1,t=>{ee||(ee=new TextEncoder),e(ee.encode(t))})}const Ee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",M=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<Ee.length;n++)M[Ee.charCodeAt(n)]=n;const lt=n=>{let e=n.length*.75,t=n.length,s,i=0,r,c,u,h;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);const d=new ArrayBuffer(e),w=new Uint8Array(d);for(s=0;s<t;s+=4)r=M[n.charCodeAt(s)],c=M[n.charCodeAt(s+1)],u=M[n.charCodeAt(s+2)],h=M[n.charCodeAt(s+3)],w[i++]=r<<2|c>>4,w[i++]=(c&15)<<4|u>>2,w[i++]=(u&3)<<6|h&63;return d},ht=typeof ArrayBuffer=="function",ue=(n,e)=>{if(typeof n!="string")return{type:"message",data:Re(n,e)};const t=n.charAt(0);return t==="b"?{type:"message",data:ut(n.substring(1),e)}:H[t]?n.length>1?{type:H[t],data:n.substring(1)}:{type:H[t]}:ie},ut=(n,e)=>{if(ht){const t=lt(n);return Re(t,e)}else return{base64:!0,data:n}},Re=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}},De="",dt=(n,e)=>{const t=n.length,s=new Array(t);let i=0;n.forEach((r,c)=>{he(r,!1,u=>{s[c]=u,++i===t&&e(s.join(De))})})},ft=(n,e)=>{const t=n.split(De),s=[];for(let i=0;i<t.length;i++){const r=ue(t[i],e);if(s.push(r),r.type==="error")break}return s};function pt(){return new TransformStream({transform(n,e){ct(n,t=>{const s=t.length;let i;if(s<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,s);else if(s<65536){i=new Uint8Array(3);const r=new DataView(i.buffer);r.setUint8(0,126),r.setUint16(1,s)}else{i=new Uint8Array(9);const r=new DataView(i.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(s))}n.data&&typeof n.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}let te;function Y(n){return n.reduce((e,t)=>e+t.length,0)}function X(n,e){if(n[0].length===e)return n.shift();const t=new Uint8Array(e);let s=0;for(let i=0;i<e;i++)t[i]=n[0][s++],s===n[0].length&&(n.shift(),s=0);return n.length&&s<n[0].length&&(n[0]=n[0].slice(s)),t}function mt(n,e){te||(te=new TextDecoder);const t=[];let s=0,i=-1,r=!1;return new TransformStream({transform(c,u){for(t.push(c);;){if(s===0){if(Y(t)<1)break;const h=X(t,1);r=(h[0]&128)===128,i=h[0]&127,i<126?s=3:i===126?s=1:s=2}else if(s===1){if(Y(t)<2)break;const h=X(t,2);i=new DataView(h.buffer,h.byteOffset,h.length).getUint16(0),s=3}else if(s===2){if(Y(t)<8)break;const h=X(t,8),d=new DataView(h.buffer,h.byteOffset,h.length),w=d.getUint32(0);if(w>Math.pow(2,21)-1){u.enqueue(ie);break}i=w*Math.pow(2,32)+d.getUint32(4),s=3}else{if(Y(t)<i)break;const h=X(t,i);u.enqueue(ue(r?h:te.decode(h),e)),s=0}if(i===0||i>n){u.enqueue(ie);break}}}})}const Oe=4;function x(n){if(n)return yt(n)}function yt(n){for(var e in x.prototype)n[e]=x.prototype[e];return n}x.prototype.on=x.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};x.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};x.prototype.off=x.prototype.removeListener=x.prototype.removeAllListeners=x.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var s,i=0;i<t.length;i++)if(s=t[i],s===e||s.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+n],this};x.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(t){t=t.slice(0);for(var s=0,i=t.length;s<i;++s)t[s].apply(this,e)}return this};x.prototype.emitReserved=x.prototype.emit;x.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};x.prototype.hasListeners=function(n){return!!this.listeners(n).length};const z=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),N=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),gt="arraybuffer";function Pe(n,...e){return e.reduce((t,s)=>(n.hasOwnProperty(s)&&(t[s]=n[s]),t),{})}const wt=N.setTimeout,xt=N.clearTimeout;function J(n,e){e.useNativeTimers?(n.setTimeoutFn=wt.bind(N),n.clearTimeoutFn=xt.bind(N)):(n.setTimeoutFn=N.setTimeout.bind(N),n.clearTimeoutFn=N.clearTimeout.bind(N))}const bt=1.33;function vt(n){return typeof n=="string"?_t(n):Math.ceil((n.byteLength||n.size)*bt)}function _t(n){let e=0,t=0;for(let s=0,i=n.length;s<i;s++)e=n.charCodeAt(s),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(s++,t+=4);return t}function Le(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function kt(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function Nt(n){let e={},t=n.split("&");for(let s=0,i=t.length;s<i;s++){let r=t[s].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e}class Et extends Error{constructor(e,t,s){super(e),this.description=t,this.context=s,this.type="TransportError"}}class de extends x{constructor(e){super(),this.writable=!1,J(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,s){return super.emitReserved("error",new Et(e,t,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=ue(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const t=kt(e);return t.length?"?"+t:""}}class St extends de{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||t()})),this.writable||(s++,this.once("drain",function(){--s||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};ft(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,dt(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=Le()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}let Fe=!1;try{Fe=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Ct=Fe;function Tt(){}class At extends St{constructor(e){if(super(e),typeof location<"u"){const t=location.protocol==="https:";let s=location.port;s||(s=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}}doWrite(e,t){const s=this.request({method:"POST",data:e});s.on("success",t),s.on("error",(i,r)=>{this.onError("xhr post error",i,r)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,s)=>{this.onError("xhr poll error",t,s)}),this.pollXhr=e}}class C extends x{constructor(e,t,s){super(),this.createRequest=e,J(this,s),this._opts=s,this._method=s.method||"GET",this._uri=t,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var e;const t=Pe(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(t);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&s.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var i;s.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=C.requestsCount++,C.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Tt,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete C.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}C.requestsCount=0;C.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Se);else if(typeof addEventListener=="function"){const n="onpagehide"in N?"pagehide":"unload";addEventListener(n,Se,!1)}}function Se(){for(let n in C.requests)C.requests.hasOwnProperty(n)&&C.requests[n].abort()}const Bt=function(){const n=je({xdomain:!1});return n&&n.responseType!==null}();class Rt extends At{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=Bt&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new C(je,this.uri(),e)}}function je(n){const e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Ct))return new XMLHttpRequest}catch{}if(!e)try{return new N[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Ke=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Dt extends de{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,s=Ke?{}:Pe(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,s)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const s=e[t],i=t===e.length-1;he(s,this.supportsBinary,r=>{try{this.doWrite(s,r)}catch{}i&&z(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Le()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const se=N.WebSocket||N.MozWebSocket;class Ot extends Dt{createSocket(e,t,s){return Ke?new se(e,t,s):t?new se(e,t):new se(e)}doWrite(e,t){this.ws.send(t)}}class Pt extends de{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=mt(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=e.readable.pipeThrough(t).getReader(),i=pt();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const r=()=>{s.read().then(({done:u,value:h})=>{u||(this.onPacket(h),r())}).catch(u=>{})};r();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this._writer.write(c).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const s=e[t],i=t===e.length-1;this._writer.write(s).then(()=>{i&&z(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Lt={websocket:Ot,webtransport:Pt,polling:Rt},Ft=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,jt=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function oe(n){if(n.length>8e3)throw"URI too long";const e=n,t=n.indexOf("["),s=n.indexOf("]");t!=-1&&s!=-1&&(n=n.substring(0,t)+n.substring(t,s).replace(/:/g,";")+n.substring(s,n.length));let i=Ft.exec(n||""),r={},c=14;for(;c--;)r[jt[c]]=i[c]||"";return t!=-1&&s!=-1&&(r.source=e,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=Kt(r,r.path),r.queryKey=It(r,r.query),r}function Kt(n,e){const t=/\/{2,9}/g,s=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&s.splice(0,1),e.slice(-1)=="/"&&s.splice(s.length-1,1),s}function It(n,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,i,r){i&&(t[i]=r)}),t}const re=typeof addEventListener=="function"&&typeof removeEventListener=="function",V=[];re&&addEventListener("offline",()=>{V.forEach(n=>n())},!1);class O extends x{constructor(e,t){if(super(),this.binaryType=gt,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(t=e,e=null),e){const s=oe(e);t.hostname=s.host,t.secure=s.protocol==="https"||s.protocol==="wss",t.port=s.port,s.query&&(t.query=s.query)}else t.host&&(t.hostname=oe(t.host).host);J(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(s=>{const i=s.prototype.name;this.transports.push(i),this._transportsByName[i]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Nt(this.opts.query)),re&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},V.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=Oe,t.transport=e,this.id&&(t.sid=this.id);const s=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&O.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",O.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let s=0;s<this.writeBuffer.length;s++){const i=this.writeBuffer[s].data;if(i&&(t+=vt(i)),s>0&&t>this._maxPayload)return this.writeBuffer.slice(0,s);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,z(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,s){return this._sendPacket("message",e,t,s),this}send(e,t,s){return this._sendPacket("message",e,t,s),this}_sendPacket(e,t,s,i){if(typeof t=="function"&&(i=t,t=void 0),typeof s=="function"&&(i=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const r={type:e,data:t,options:s};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},s=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}_onError(e){if(O.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),re&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=V.indexOf(this._offlineEventListener);s!==-1&&V.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}O.protocol=Oe;class Mt extends O{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),s=!1;O.priorWebsocketSuccess=!1;const i=()=>{s||(t.send([{type:"ping",data:"probe"}]),t.once("packet",_=>{if(!s)if(_.type==="pong"&&_.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;O.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(w(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const A=new Error("probe error");A.transport=t.name,this.emitReserved("upgradeError",A)}}))};function r(){s||(s=!0,w(),t.close(),t=null)}const c=_=>{const A=new Error("probe error: "+_);A.transport=t.name,r(),this.emitReserved("upgradeError",A)};function u(){c("transport closed")}function h(){c("socket closed")}function d(_){t&&_.name!==t.name&&r()}const w=()=>{t.removeListener("open",i),t.removeListener("error",c),t.removeListener("close",u),this.off("close",h),this.off("upgrading",d)};t.once("open",i),t.once("error",c),t.once("close",u),this.once("close",h),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{s||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let s=0;s<e.length;s++)~this.transports.indexOf(e[s])&&t.push(e[s]);return t}}let qt=class extends Mt{constructor(e,t={}){const s=typeof e=="object"?e:t;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(i=>Lt[i]).filter(i=>!!i)),super(e,s)}};function Ut(n,e="",t){let s=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),s=oe(n)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const r=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+r+":"+s.port+e,s.href=s.protocol+"://"+r+(t&&t.port===s.port?"":":"+s.port),s}const Yt=typeof ArrayBuffer=="function",Xt=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,Ie=Object.prototype.toString,Ht=typeof Blob=="function"||typeof Blob<"u"&&Ie.call(Blob)==="[object BlobConstructor]",Vt=typeof File=="function"||typeof File<"u"&&Ie.call(File)==="[object FileConstructor]";function fe(n){return Yt&&(n instanceof ArrayBuffer||Xt(n))||Ht&&n instanceof Blob||Vt&&n instanceof File}function W(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,s=n.length;t<s;t++)if(W(n[t]))return!0;return!1}if(fe(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return W(n.toJSON(),!0);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&W(n[t]))return!0;return!1}function Wt(n){const e=[],t=n.data,s=n;return s.data=ae(t,e),s.attachments=e.length,{packet:s,buffers:e}}function ae(n,e){if(!n)return n;if(fe(n)){const t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){const t=new Array(n.length);for(let s=0;s<n.length;s++)t[s]=ae(n[s],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){const t={};for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=ae(n[s],e));return t}return n}function $t(n,e){return n.data=ce(n.data,e),delete n.attachments,n}function ce(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=ce(n[t],e);else if(typeof n=="object")for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=ce(n[t],e));return n}const zt=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Jt=5;var p;(function(n){n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK"})(p||(p={}));class Qt{constructor(e){this.replacer=e}encode(e){return(e.type===p.EVENT||e.type===p.ACK)&&W(e)?this.encodeAsBinary({type:e.type===p.EVENT?p.BINARY_EVENT:p.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===p.BINARY_EVENT||e.type===p.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Wt(e),s=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(s),i}}function Ce(n){return Object.prototype.toString.call(n)==="[object Object]"}class pe extends x{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const s=t.type===p.BINARY_EVENT;s||t.type===p.BINARY_ACK?(t.type=s?p.EVENT:p.ACK,this.reconstructor=new Gt(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(fe(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const s={type:Number(e.charAt(0))};if(p[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===p.BINARY_EVENT||s.type===p.BINARY_ACK){const r=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const c=e.substring(r,t);if(c!=Number(c)||e.charAt(t)!=="-")throw new Error("Illegal attachments");s.attachments=Number(c)}if(e.charAt(t+1)==="/"){const r=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););s.nsp=e.substring(r,t)}else s.nsp="/";const i=e.charAt(t+1);if(i!==""&&Number(i)==i){const r=t+1;for(;++t;){const c=e.charAt(t);if(c==null||Number(c)!=c){--t;break}if(t===e.length)break}s.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(pe.isPayloadValid(s.type,r))s.data=r;else throw new Error("invalid payload")}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case p.CONNECT:return Ce(t);case p.DISCONNECT:return t===void 0;case p.CONNECT_ERROR:return typeof t=="string"||Ce(t);case p.EVENT:case p.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&zt.indexOf(t[0])===-1);case p.ACK:case p.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Gt{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=$t(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Zt=Object.freeze(Object.defineProperty({__proto__:null,Decoder:pe,Encoder:Qt,get PacketType(){return p},protocol:Jt},Symbol.toStringTag,{value:"Module"}));function S(n,e,t){return n.on(e,t),function(){n.off(e,t)}}const es=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Me extends x{constructor(e,t,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[S(e,"open",this.onopen.bind(this)),S(e,"packet",this.onpacket.bind(this)),S(e,"error",this.onerror.bind(this)),S(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var s,i,r;if(es.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const c={type:p.EVENT,data:t};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const w=this.ids++,_=t.pop();this._registerAckCallback(w,_),c.id=w}const u=(i=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||i===void 0?void 0:i.writable,h=this.connected&&!(!((r=this.io.engine)===null||r===void 0)&&r._hasPingExpired());return this.flags.volatile&&!u||(h?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(e,t){var s;const i=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(i===void 0){this.acks[e]=t;return}const r=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let u=0;u<this.sendBuffer.length;u++)this.sendBuffer[u].id===e&&this.sendBuffer.splice(u,1);t.call(this,new Error("operation has timed out"))},i),c=(...u)=>{this.io.clearTimeoutFn(r),t.apply(this,u)};c.withError=!0,this.acks[e]=c}emitWithAck(e,...t){return new Promise((s,i)=>{const r=(c,u)=>c?i(c):s(u);r.withError=!0,t.push(r),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...r)=>s!==this._queue[0]?void 0:(i!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...r)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:p.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(s=>String(s.id)===e)){const s=this.acks[e];delete this.acks[e],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case p.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case p.EVENT:case p.BINARY_EVENT:this.onevent(e);break;case p.ACK:case p.BINARY_ACK:this.onack(e);break;case p.DISCONNECT:this.ondisconnect();break;case p.CONNECT_ERROR:this.destroy();const s=new Error(e.data.message);s.data=e.data.data,this.emitReserved("connect_error",s);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const s of t)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let s=!1;return function(...i){s||(s=!0,t.packet({type:p.ACK,id:e,data:i}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:p.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let s=0;s<t.length;s++)if(e===t[s])return t.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let s=0;s<t.length;s++)if(e===t[s])return t.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const s of t)s.apply(this,e.data)}}}function L(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}L.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=Math.floor(e*10)&1?n+t:n-t}return Math.min(n,this.max)|0};L.prototype.reset=function(){this.attempts=0};L.prototype.setMin=function(n){this.ms=n};L.prototype.setMax=function(n){this.max=n};L.prototype.setJitter=function(n){this.jitter=n};class le extends x{constructor(e,t){var s;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,J(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((s=t.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new L({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||Zt;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new qt(this.uri,this.opts);const t=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const i=S(t,"open",function(){s.onopen(),e&&e()}),r=u=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",u),e?e(u):this.maybeReconnectOnOpen()},c=S(t,"error",r);if(this._timeout!==!1){const u=this._timeout,h=this.setTimeoutFn(()=>{i(),r(new Error("timeout")),t.close()},u);this.opts.autoUnref&&h.unref(),this.subs.push(()=>{this.clearTimeoutFn(h)})}return this.subs.push(i),this.subs.push(c),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(S(e,"ping",this.onping.bind(this)),S(e,"data",this.ondata.bind(this)),S(e,"error",this.onerror.bind(this)),S(e,"close",this.onclose.bind(this)),S(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){z(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new Me(this,e,t),this.nsps[e]=s),s}_destroy(e){const t=Object.keys(this.nsps);for(const s of t)if(this.nsps[s].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let s=0;s<t.length;s++)this.engine.write(t[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const I={};function $(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};const t=Ut(n,e.path||"/socket.io"),s=t.source,i=t.id,r=t.path,c=I[i]&&r in I[i].nsps,u=e.forceNew||e["force new connection"]||e.multiplex===!1||c;let h;return u?h=new le(s,e):(I[i]||(I[i]=new le(s,e)),h=I[i]),t.query&&!e.query&&(e.query=t.queryKey),h.socket(t.path,e)}Object.assign($,{Manager:le,Socket:Me,io:$,connect:$});const ne={KeyA:"A",KeyB:"B",KeyC:"C",KeyD:"D",KeyE:"E",KeyF:"F",KeyG:"G",KeyH:"H",KeyI:"I",KeyJ:"J",KeyK:"K",KeyL:"L",KeyM:"M",KeyN:"N",KeyO:"O",KeyP:"P",KeyQ:"Q",KeyR:"R",KeyS:"S",KeyT:"T",KeyU:"U",KeyV:"V",KeyW:"W",KeyX:"X",KeyY:"Y",KeyZ:"Z",Digit0:"Num0",Digit1:"Num1",Digit2:"Num2",Digit3:"Num3",Digit4:"Num4",Digit5:"Num5",Digit6:"Num6",Digit7:"Num7",Digit8:"Num8",Digit9:"Num9",F1:"F1",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",F10:"F10",F11:"F11",F12:"F12",F13:"F13",F14:"F14",F15:"F15",F16:"F16",F17:"F17",F18:"F18",F19:"F19",F20:"F20",F21:"F21",F22:"F22",F23:"F23",F24:"F24",AltLeft:"LeftAlt",AltRight:"RightAlt",ControlLeft:"LeftControl",ControlRight:"RightControl",ShiftLeft:"LeftShift",ShiftRight:"RightShift",MetaLeft:"LeftSuper",MetaRight:"RightSuper",ArrowUp:"Up",ArrowDown:"Down",ArrowLeft:"Left",ArrowRight:"Right",Numpad0:"NumPad0",Numpad1:"NumPad1",Numpad2:"NumPad2",Numpad3:"NumPad3",Numpad4:"NumPad4",Numpad5:"NumPad5",Numpad6:"NumPad6",Numpad7:"NumPad7",Numpad8:"NumPad8",Numpad9:"NumPad9",NumpadAdd:"NumPadAdd",NumpadSubtract:"NumPadSubtract",NumpadMultiply:"NumPadMultiply",NumpadDivide:"NumPadDivide",NumpadDecimal:"Decimal",NumpadEnter:"Enter",NumpadEqual:"NumpadEqual",Space:"Space",Enter:"Return",Tab:"Tab",Escape:"Escape",Backspace:"Backspace",Delete:"Delete",Insert:"Insert",Home:"Home",End:"End",PageUp:"PageUp",PageDown:"PageDown",CapsLock:"CapsLock",NumLock:"NumLock",ScrollLock:"ScrollLock",PrintScreen:"PrintScreen",Pause:"Pause",Backquote:"Backquote",Minus:"Minus",Equal:"Equal",BracketLeft:"BracketLeft",BracketRight:"BracketRight",Backslash:"Backslash",Semicolon:"Semicolon",Quote:"Quote",Comma:"Comma",Period:"Period",Slash:"Slash",IntlBackslash:"IntlBackslash",IntlHash:"IntlHash",IntlRo:"IntlRo",IntlYen:"IntlYen",Convert:"Convert",NonConvert:"NonConvert",KanaMode:"KanaMode",MediaTrackNext:"AudioNext",MediaTrackPrevious:"AudioPrev",MediaStop:"AudioStop",MediaPlayPause:"LeftShift",VolumeMute:"AudioMute",VolumeDown:"AudioVolDown",VolumeUp:"AudioVolUp",MediaRewind:"AudioRewind",MediaFastForward:"AudioForward",BrowserBack:"BrowserBack",BrowserForward:"BrowserForward",BrowserRefresh:"BrowserRefresh",BrowserStop:"BrowserStop",BrowserSearch:"BrowserSearch",BrowserFavorites:"BrowserFavorites",BrowserHome:"BrowserHome",Select:"Select",WakeUp:"WakeUp",Power:"Power",Unidentified:""},E=$(it,{auth:{token:localStorage.access||""},autoConnect:!0}),qe=y.createContext(),ts=({children:n})=>{const[e,t]=y.useState({dispX:0,dispY:0,lastX:0,lastY:0,mouseX:0,mouseY:0,lastMouseDownX:0,lastMouseDownY:0,lastMouseUpX:0,lastMouseUpY:0,mouseDown:!1,mouseAlt:!1,ready:!1,click:!1,mouseDownHold:!1,mouseDownHoldExt:!1,mouseIsMoving:!1,scrollX:0,scrollY:0,scrollPointX:0,scrollPointY:0,scrollDown:!1,hasKeyboard:!1}),[s,i]=y.useState({downKeys:[]}),[r,c]=y.useState(""),[u,h]=y.useState(""),[d,w]=y.useState(""),[_,A]=y.useState(0),[Q,P]=y.useState(void 0),[R,q]=y.useState(""),[F,U]=y.useState(!1),[b,G]=y.useState(Date.now());function l(a){return a<30&&a>-30?a:0}y.useEffect(()=>(E.on("error",a=>{h("ERROR: "+a),setTimeout(()=>!a.includes("termina")&&h(""),6e3)}),E.on("disconnect",()=>{w("Invalid Heartbeat... Retrying")}),E.on("connect",()=>{w("Heartbeat restored... parsing device"),setTimeout(()=>{w("")},4e3)}),()=>{!location.href.includes(":5173")&&E.disconnect(),!location.href.includes(":5173")&&location.reload()}),[]);const ye=()=>{setTimeout(()=>{const a=document.getElementById("tp"),f=document.getElementById("scrollbar");if(!a&&!f)return ye();t(g=>(c(a),{...g,ready:!0})),a.ontouchmove=ge,a.onmousemove=ge,a.ontouchstart=we,a.onmousedown=we,a.ontouchend=Z,a.ontouchcancel=Z,a.onmouseup=Z,a.onclick=xe,a.oncontextmenu=be},500)};function ge(a){a.stopPropagation(),clearTimeout(_),t(f=>{const g=localStorage.mouseDown?(a.clientX||a.touches.item(0).clientX)-f.mouseX:0,m=localStorage.mouseDown?(a.clientY||a.touches.item(0).clientY)-f.mouseY:0,v={...f,dispX:l(g),dispY:l(m),lastX:f.mouseX,lastY:f.mouseY,mouseX:a.clientX||a.touches.item(0).clientX,mouseY:a.clientY||a.touches.item(0).clientY,mouseIsMoving:!0,mouseDown:!!localStorage.mouseDown,click:!1};let K=[...JSON.parse((localStorage==null?void 0:localStorage.mouseHistory)||"[]"),{dispX:v.dispX,dispY:v.dispY}];return K.length>10&&K.shift(),localStorage.mouseHistory=JSON.stringify(K),v}),A(setTimeout(()=>{t(f=>({...f,mouseIsMoving:!1}))},400))}function we(a){a.stopPropagation();const f=""+Date.now();t(g=>(localStorage.mouseDown="true",{...g,dispX:0,dispY:0,mouseDown:!0,mouseDownHold:!1,click:!1,lastMouseDownX:a.clientX||a.touches.item(0).clientX,lastMouseDownY:a.clientY||a.touches.item(0).clientY,lastX:a.clientX||a.touches.item(0).clientX,lastY:a.clientY||a.touches.item(0).clientY})),setTimeout(()=>{const g=(localStorage!=null&&localStorage.mouseHistory?JSON.parse(localStorage==null?void 0:localStorage.mouseHistory):[]).find(m=>m.dispX||m.dispY);localStorage.mouseDown&&!g&&(console.log(g),t(m=>({...m,mouseDownHold:!0}))),localStorage.clickId=f},300)}function xe(a){a.stopPropagation(),localStorage.mouseDown="",t(f=>({...f,mouseDown:!1,click:"left"}))}function be(a){a.stopPropagation(),localStorage.mouseDown="",t(f=>({...f,mouseDown:!1,click:"right"}))}function Z(a){a.stopPropagation(),localStorage.mouseDown="",t(m=>{var v,k;return{...m,mouseDown:!1,mouseDownHold:!1,mouseDownHoldExt:!1,click:!1,lastMouseUpX:a.clientX||((v=a.touches.item(0))==null?void 0:v.clientX)||(m==null?void 0:m.lastX),lastMouseUpY:a.clientY||((k=a.touches.item(0))==null?void 0:k.clientY)||(m==null?void 0:m.lastY),lastX:0,lastY:0}});let g=JSON.parse((localStorage==null?void 0:localStorage.mouseHistory)||"[]").map(()=>({dispX:0,dispY:0}));localStorage.mouseHistory=JSON.stringify(g)}function Ue(a){localStorage.scrollDown="true",t(f=>{var g,m;return{...f,scrollX:0,scrollY:0,scrollDown:!0,scrollPointX:a.clientX||((g=a.touches.item(0))==null?void 0:g.clientX),scrollPointY:a.clientY||((m=a.touches.item(0))==null?void 0:m.clientY)}})}function Ye(a){t(f=>{var v,k;const g=localStorage.scrollDown?(a.clientX||a.touches.item(0).clientX)-f.scrollPointX:0,m=localStorage.scrollDown?(a.clientY||a.touches.item(0).clientY)-f.scrollPointY:0;return{...f,scrollX:l(g),scrollY:l(m),scrollDown:!0,scrollPointX:a.clientX||((v=a.touches.item(0))==null?void 0:v.clientX),scrollPointY:a.clientY||((k=a.touches.item(0))==null?void 0:k.clientY)}})}function Xe(a){localStorage.scrollDown="",t(f=>{var g,m;return{...f,scrollX:0,scrollY:0,scrollDown:!1,scrollPointX:a.clientX||((g=a.touches.item(0))==null?void 0:g.clientX),scrollPointY:a.clientY||((m=a.touches.item(0))==null?void 0:m.clientY)}})}function j(a={}){return""+a.code+a.keyCode+a.key}function ve(a){const{keyCode:f,key:g,code:m}=a;return{code:m,key:g,keyCode:f}}function _e(a){return a.key=="Backspace"&&q(""),a.keyCode==229}function He(a){if(a.preventDefault(),_e(a))return U(!0);const f=ve(a),g=j(f);if(!s.downKeys.find(v=>j(v)==g)){i(k=>({...k,downKeys:[f,...k.downKeys]}));const v=ne[f.code||f.key];E.emit("keydown",v)}}function Ve(a){if(a.preventDefault(),_e(a))return U(!0);const f=ve(a),g=j(f);if(s.downKeys.find(v=>j(v)==g)){i(k=>({...k,downKeys:k.downKeys.filter(K=>j(K)!==g)}));const v=ne[f.code||f.key];E.emit("keyup",v)}}function We(a=!1){t(f=>({...f,hasKeyboard:a}))}return y.useEffect(()=>{!e.mouseIsMoving&&t(a=>({...a,dispX:0,dispY:0}))},[e.mouseIsMoving]),y.useEffect(()=>{if(F){const a=ne[`Key${R.toUpperCase()}`];a?E.emit("keydown",a):E.emit("keypress",R),a&&E.emit("keyup",a)}},[b]),y.useEffect(()=>{try{E.emit("pointerEvent",e)}catch{h("Failed to sync pointer data. Please check your connection.")}},[e]),o.jsxs(qe.Provider,{value:{touchConfig:e,setTouchConfig:t,init:ye,pad:r,click:xe,altClick:be,scrollStart:Ue,scrollMove:Ye,scrollEnd:Xe,toggleKeyboard:We,handleKeydown:He,handleKeyUp:Ve,keyConfig:s,setKeyConfig:i,hasPannel:Q,setHasPannel:P,keyVal:R,setKeyVal:q,socket:E,setLastPress:G},children:[" ",o.jsxs("pre",{className:"small p-5 fixed-top ",style:{whiteSpace:"pre-wrap",wordWrap:"break-word",pointerEvents:"none"},children:[u&&o.jsx("div",{className:"slideUp d-flex text-center",children:u}),o.jsx("br",{}),o.jsx("div",{className:"small",children:d})]}),n]})},me=()=>y.useContext(qe),ss=()=>{const{init:n,touchConfig:e}=me(),[t,s]=y.useState(!1),[i,r]=y.useState(0),c=(d="")=>{const w=document.getElementById(d),_=setInterval(()=>{w.style.outline="8px solid steelblue",setTimeout(()=>{w.style.outline=""},100)},200);setTimeout(()=>{clearInterval(_)},1200)},u=[()=>{localStorage.toastData="Welcome to the fsdiscover Remote input tour guide",r(d=>localStorage.lastToast=B.info(o.jsx(D,{done:!1,prev:d||"0",next:()=>h(1)}),{autoClose:!1}))},()=>{localStorage.toastData="The rectangular box is the touchpad, swipe or drag on it to move the mouse",r(d=>localStorage.lastToast=B.info(o.jsx(D,{done:!1,prev:d||"0",next:()=>h(2)}),{autoClose:!1})),setTimeout(()=>{c("tp")},600)},()=>{localStorage.toastData="On the mouse bar are controls for the mouse",r(d=>localStorage.lastToast=B.info(o.jsx(D,{done:!1,prev:d||"0",next:()=>h(3)}),{autoClose:!1})),setTimeout(()=>{c("mouseBarInner")},600)},()=>{localStorage.toastData="Swipe on the scrollbar to scroll in any direction, also funtions as middle click",r(d=>localStorage.lastToast=B.info(o.jsx(D,{done:!1,prev:d||"0",next:()=>h(4)}),{autoClose:!1})),setTimeout(()=>{c("scrollBar")},600)},()=>{localStorage.toastData="Click on the keyboard icon to open remote keyboard",r(d=>localStorage.lastToast=B.info(o.jsx(D,{done:!1,prev:d||"0",next:()=>h(5)}),{autoClose:!1})),setTimeout(()=>{c("start")},600)},()=>{localStorage.toastData="On mobile or touchscreen keyboards, Key inputs might produce unexpected behaviors, in such scenarios, use the key along with SHIFT.",r(d=>localStorage.lastToast=B.info(o.jsx(D,{done:!1,prev:d||"0",next:()=>h(6)}),{autoClose:!1}))},()=>{localStorage.toastData="If you are facing difficulty connecting, check your network connection or the logs for errors, if everything looks fine and you still can't connect, Go to the admin page and eject some redundant devices to continue.",r(d=>localStorage.lastToast=B.info(o.jsx(D,{done:!1,prev:d||"0",next:()=>h(7)}),{autoClose:!1}))},()=>{localStorage.toastData="Hurray! You have reached the end of this guide. Good luck",r(localStorage.lastToast=B.info(d=>o.jsx(D,{done:!0,prev:d||"0",next:()=>{}})))}];function h(d=0){u[d](d)}return o.jsxs("div",{className:"d-flex",style:{overflow:"hidden",maxWidth:"99vw"},children:[o.jsx("div",{className:"active rounded btn p-1 px-2",style:{position:"fixed",top:"1.2rem",left:"1.2rem",zIndex:20},onClick:()=>h(0),children:o.jsx(ot,{})}),o.jsx("div",{className:"mt-auto w-100",style:{border:"50%",backgroundColor:e.mouseDown?e.mouseDownHold?"green":"red":e.scollDown?"yellow":"#efefef",pointerEvents:"none",height:"20px",position:"relative",top:"19px",zIndex:1,marginLeft:"1.2rem",marginRight:".96rem"}}),o.jsx("canvas",{id:"tp",className:"border",style:{height:"85vh",position:"fixed",top:"1.2rem",left:"1.2rem",right:"1.2rem",width:"calc( 100vw - 2.4rem )"}}),!t&&(()=>{n(document.getElementById("tp")),s(!0)})(),o.jsx("div",{className:"p-1",style:{border:"50%",backgroundColor:e.mouseDown?e.mouseDownHold?"green":"red":"steelblue",position:"fixed",top:e.mouseY-3,left:e.mouseX-3,pointerEvents:"none"}})]})};function D({data:n,next:e,done:t}){return o.jsxs(o.Fragment,{children:[o.jsx("div",{children:n||localStorage.toastData}),o.jsx("div",{className:"d-flex mt-1",children:o.jsx("div",{className:"me-auto",children:o.jsx("button",{className:"btn-primary p-1 px-2 btn-small btn",onClick:()=>{B.dismiss(localStorage.lastToast),e()},style:{fontSize:".8em"},children:t?"Done":"Next"})})})]})}const ns=({hasDivider:n})=>{const[e,t]=y.useState("d-none"),[s,i]=y.useState(location.href),r=y.useRef(null),{toggleKeyboard:c,setKeyVal:u,keyVal:h,hasPannel:d,setHasPannel:w,handleKeyUp:_,handleKeydown:A,setLastPress:Q,socket:P}=me(),[R,q]=y.useState([]),[F,U]=y.useState(!1);function b(l){if(l.target.value=="toggle")return r.current.focus&&r.current.focus(),G(l.target.id);P.emit("keytype",l.target.id)}function G(l){R.includes(l)?P.emit("keyup",l):P.emit("keydown",l)}return y.useEffect(()=>{location.href!==s&&i(location.href)},[location.href==s]),y.useEffect(()=>{if(d)t("d-block"),c(!0);else{if(d==null)return;c(!1),t("slideOut"),setTimeout(()=>{t("d-none")},500)}},[d]),y.useEffect(()=>{P.on("downkeys",l=>{q(l||[])})},[]),o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"menu-panel",children:o.jsx("div",{className:"mx-auto col-12 col-sm-10 col-md-8 col-xl-9",children:o.jsx("div",{className:`inner ani  rounded shadow-lg p-3 text-light bg-dark text-left slideUp ${e}`,style:{bottom:"10px",position:"relative"},children:o.jsxs("div",{className:"row text-light ani",style:{minHeight:"400px !important",height:"24vh",maxHeight:"80vh"},children:[o.jsxs("div",{className:"d-flex px-0 px-md-1 pb-2 virtualKeyboard",children:[o.jsxs("div",{className:"row",children:[o.jsx("h5",{className:"text-light ps-3 m-0 mt-0 mb-0",style:{maxWidth:"fit-content",pointerEvents:"none",position:"relative",bottom:"6px"},children:"Remote Keyboard"}),o.jsxs("div",{className:"d-flex col-md-12",children:[o.jsx("div",{className:" p-1 d-flex",children:o.jsx("button",{id:"Escape",onClick:l=>b(l),className:"btn text-light border w-100",children:"Esc"})}),o.jsx("div",{className:" p-1 d-flex",children:o.jsx("button",{id:"Tab",onClick:l=>b(l),className:"btn text-light border w-100",children:"Tab"})}),o.jsx("div",{className:" p-1 d-flex",children:o.jsx("button",{id:"End",onClick:l=>b(l),className:"btn text-light border w-100",children:"End"})}),o.jsx("div",{className:" p-1 d-flex",children:o.jsx("button",{id:"PageUp",onClick:l=>b(l),className:"btn text-light border w-100",children:"PgUp"})})]}),o.jsxs("div",{className:"d-flex col-lg-12",children:[o.jsx("div",{className:" p-1 d-flex",children:o.jsx("button",{id:"LeftControl",value:"toggle",onClick:l=>b(l),className:`btn text-light border w-100 ${R.includes("LeftControl")&&"active"}`,children:"Ctrl"})}),o.jsx("div",{className:" p-1 d-flex",children:o.jsx("button",{id:"LeftAlt",value:"toggle",onClick:l=>b(l),className:`btn text-light border w-100 ${R.includes("LeftAlt")&&"active"}`,children:"Alt"})}),o.jsx("div",{className:" p-1 d-flex",children:o.jsx("button",{id:"LeftShift",value:"toggle",onClick:l=>b(l),className:`btn text-light border w-100 ${R.includes("LeftShift")&&"active"}`,children:"Shift"})}),o.jsx("div",{className:" p-1 d-flex",children:o.jsx("button",{id:"PageDown",onClick:l=>b(l),className:"btn text-light border w-100",children:"PgDown"})})]})]}),o.jsxs("div",{className:"ms-auto mt-auto",children:[o.jsxs("div",{className:"d-flex",children:[o.jsx("div",{className:"col-4 p-1 d-flex",children:o.jsx("button",{id:"Insert",onClick:l=>b(l),className:"btn pe-4 text-light border w-100",children:"Insert"})}),F?o.jsx("div",{className:"col-4 p-1  d-flex",children:o.jsx("button",{id:"AudioPlay",onClick:l=>b(l),className:"btn text-light border w-100 text-center",children:o.jsx($e,{className:"icon",style:{padding:"1px",pointerEvents:"none"}})})}):o.jsx("div",{className:"col-4 p-1  d-flex",children:o.jsx("button",{id:"Up",onClick:l=>b(l),className:"btn text-light border w-100 text-center",children:o.jsx(ze,{style:{pointerEvents:"none"}})})}),o.jsx("div",{className:"col-4 p-1  d-flex",children:o.jsx("button",{onClick:()=>U(l=>!l),className:"btn border text-light w-100 text-center",children:F?"Arrow":"Media"})})]}),o.jsx("div",{className:"d-flex",children:F?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"col-4 p-1  d-flex",children:o.jsx("button",{id:"AudioPrev",onClick:l=>b(l),className:"btn border text-light w-100 text-center",children:o.jsx(Ze,{style:{pointerEvents:"none"}})})}),o.jsx("div",{className:"col-4 p-1  d-flex",children:o.jsx("button",{id:"AudioPlay",onClick:l=>b(l),className:"btn border text-light w-100 text-center",children:o.jsx(et,{className:"icon",style:{padding:"1px",pointerEvents:"none"}})})}),o.jsx("div",{className:"col-4 p-1  d-flex",children:o.jsx("button",{id:"AudioNext",onClick:l=>b(l),className:"btn border text-light w-100 text-center",children:o.jsx(tt,{style:{pointerEvents:"none"}})})})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"col-4 p-1  d-flex",children:o.jsx("button",{id:"Left",onClick:l=>b(l),className:"btn border text-light w-100 text-center",children:o.jsx(Je,{style:{pointerEvents:"none"}})})}),o.jsx("div",{className:"col-4 p-1  d-flex",children:o.jsx("button",{id:"Down",onClick:l=>b(l),className:"btn border text-light w-100 text-center",children:o.jsx(Qe,{style:{pointerEvents:"none"}})})}),o.jsx("div",{className:"col-4 p-1  d-flex",children:o.jsx("button",{id:"Right",onClick:l=>b(l),className:"btn border text-light w-100 text-center",children:o.jsx(Ge,{style:{pointerEvents:"none"}})})})]})})]})]}),o.jsx("div",{className:"px-2",children:o.jsx("input",{type:"text",onKeyDown:A,onKeyUp:_,autoComplete:"off",autoCorrect:"off",spellCheck:"false","aria-multiline":"true",onChange:({target:l})=>{u(l.value[l.value.length-1]||l.value),Q(Date.now())},className:"form-control bg-dark border rounded text-light",placeholder:"Write Here (Writeup will not display here)",value:h,autoFocus:!0,ref:r,id:"keystroker"})})]})})})}),o.jsx("div",{id:"start",title:"Keyboard Menu",className:`app my-auto p-2 py-1 btn fs-5 ${d&&"active"}`,onClick:()=>w(l=>!l),children:o.jsx(st,{className:"text-light",style:{fontSize:"35px"}})}),o.jsx(rt,{hasDivider:!1}),n!==!1&&o.jsx("div",{className:"divider my-auto mx-2",style:{width:"1px",background:"#efefef60",height:"80%"}})]})},is=()=>{const{click:n,altClick:e,scrollStart:t,scrollMove:s,scrollEnd:i,socket:r}=me();return o.jsx("div",{children:o.jsx(nt,{delay:800,children:o.jsxs("div",{id:"mouseBar",className:"fixed-bottom d-flex false",style:{bottom:"10px",height:"70px"},children:[o.jsxs("div",{id:"mouseBarInner",className:"custom-navmenu mx-auto text-light slideUp p-2 col-11 col-sm-10 col-md-8 col-xl-9 mb-2 bg-dark rounded d-flex text-light",children:[o.jsx("button",{className:"btn text-light active shadow themebg",onClick:n,style:{minWidth:window.innerWidth<300?"30px":"70px",fontSize:".6em"},children:o.jsx("small",{id:"lc",style:{pointerEvents:"none",zIndex:-1}})}),o.jsx("div",{className:"m-auto px-1 d-flex h-100 w-100",children:o.jsx("div",{onClick:()=>r.emit("middleclick"),id:"scrollBar",onTouchStart:t,onTouchMove:s,onTouchEnd:i,onTouchCancel:i,onMouseDown:t,onMouseMove:s,onMouseUp:i,className:"active rounded d-flex w-100 h-100 text-center my-auto",style:{minWidth:"40px",fontSize:".7em"},children:o.jsx("small",{className:"m-auto",id:"noPoint",style:{}})})}),o.jsx("button",{className:"btn text-light active shadow themebg",style:{minWidth:window.innerWidth<300?"30px":"70px",fontSize:".6em"},onClick:e,children:o.jsx("small",{id:"rc",style:{pointerEvents:"none"}})})]}),o.jsx("div",{className:"p-3 w-100 fixed  bottom d-flex",style:{position:"fixed",bottom:window.innerWidth>780?"0":"70px",left:"4px",zIndex:-1},children:o.jsx(ns,{})})]})})})},cs=()=>o.jsx("div",{className:"themebg",style:{height:"100dvh",maxHeight:"100dvh",overscrollBehavior:"contain",overscrollBehaviorBlock:"contain",overscrollBehaviorInline:"contain",overflow:"hidden"},children:o.jsxs(ts,{children:[o.jsx(at,{}),o.jsx(ss,{}),o.jsx(is,{})]})});export{cs as default};
